<% categories = categories_options({ categories:    params[:osasto],
                                     subcategories: params[:try],
                                     brands:        params[:tuotemerkki] })
   subcategories = subcategories_options({ categories:    params[:osasto],
                                           subcategories: params[:try],
                                           brands:        params[:tuotemerkki] })

   brands = brands_options({ categories:    params[:osasto],
                             subcategories: params[:try],
                             brands:        params[:tuotemerkki] }) %>

<div class="categories-selection">
  <div>
    <%= label_tag 'osasto[]', t('.category') %>
    <%= select_tag 'osasto[]',
                   options_for_select(categories, params[:osasto]),
                   class:    'chosen-select',
                   multiple: true,
                   onchange: 'this.form.submit()',
                   data:     { placeholder: t('.choose_categories') } %>
  </div>

  <div>
    <%= label_tag 'try[]', t('.subcategory') %>
    <%= select_tag 'try[]',
                   options_for_select(subcategories, params[:try]),
                   class:    'chosen-select',
                   multiple: true,
                   onchange: 'this.form.submit()',
                   data:     { placeholder: t('.choose_subcategories') } %>
  </div>

  <div>
    <%= label_tag 'tuotemerkki[]', t('.brand') %>
    <%= select_tag 'tuotemerkki[]',
                   options_for_select(brands, params[:tuotemerkki]),
                   class:    'chosen-select',
                   multiple: true,
                   onchange: 'this.form.submit()',
                   data:     { placeholder: t('.choose_brands') } %>
  </div>
</div>
